jQuery(document).ready(function(e){function t(t){e("#pad-"+t).addClass("field-highlight").css("padding","0");e("#main-"+t).addClass("edit-highlight");e("#swap-"+t).hide();e("#edit-"+t).show();e("#controls-"+t).show().css("height","auto");e("#input-"+t).focus()}function n(t){e("#edit-"+t).removeAttr("style");e("#input-"+t).val(e("#data-"+t).text());e("#main-"+t).removeClass("edit-highlight").removeAttr("style");e("#pad-"+t).removeClass("field-highlight").removeAttr("style");e("#swap-"+t).removeAttr("style");e("#controls-"+t).removeAttr("style")}function r(t,n,r,i){e("#main-"+t).addClass("disabled");e("#pad-"+t).hide();var s=e("#hh_update_profile").attr("data-processing-uri");var o='<div class="alert alert-'+n+'">';o+="<p>"+r+"</p>";if(i){o+='<img src="'+s+'" />'}o+="</div>";e("#message-"+t).html(o).show()}e.ajaxSetup({type:"POST",url:_hh_ajax_fe_profile.ajaxurl});if(e("#profile-editor-container").length)hh_profile_edit_ajax_load_template();e(document).on("submit",".hh-update-profile",function(t){t.preventDefault();var i=e(this).attr("data-meta_key");var s=e("#main-"+i);var o=s.attr("data-meta_key");console.log("meta_key: "+o);var u=s.attr("data-nonce");console.log("nonce: "+u);var a=e("#input-"+o).val();console.log("meta_value: "+a);e.ajax({dataType:"json",data:{action:"hh_update_user_profile",meta_key:o,meta_value:a,nonce:u},beforeSend:function(){n(o);r(o,"info","Submitting Request...",true);e(".edit-field").addClass("disabled")},complete:function(){n(o);e("#message-"+o).hide()},success:function(t){var n=e("#data-"+o);n.html(t.new_value);e('<span class="label label-success fadeOut">Updated</span>').insertAfter("#data-"+o);e(".fadeOut").fadeOut(1600,function(){e(this).remove();e(".edit-field").removeClass("disabled")})},error:function(){var t=e("#data-"+o);e('<span class="label label-danger fadeOut">Failed!!</span>').insertAfter("#data-"+o);e(".fadeOut").fadeOut(2600,function(){e(this).remove();e(".edit-field").removeClass("disabled")})}})});e(document).on("click","a.edit-field",function(n){n.preventDefault();if(e(this).hasClass("disabled"))return;t(e(this).attr("data-meta_key"))});e(document).on("click",".pr-cancel",function(){n(e(this).attr("data-meta_key"))})});window.hh_profile_edit_ajax_load_template=function(){jQuery(document).ready(function(e){e.ajax({dataType:"html",data:{action:"hh_ajax_load_profile_editor"},success:function(t){e("#profile-editor-preloader").fadeOut("fast");e("#profile-editor-container").fadeIn("slow").html(t)}})})}